(self.webpackChunk=self.webpackChunk||[]).push([[328],{4040:(e,t,n)=>{"use strict";n(3710),n(6992),n(1539),n(8783),n(3948),n(1637),n(285),n(9714),n(9554),n(4747),n(2564),n(1249),n(1038),n(2222);var r=n(130),o=n(5299),a=n(1401),c=document.getElementById("selectYear"),u=document.querySelector(".total-paragraphe"),l=document.querySelector(".total-heure"),i=document.querySelector(".total-payer"),s=document.querySelector(".total-don"),d=document.querySelector(".total-valorisees"),f=document.querySelectorAll(".duree"),p=document.querySelectorAll(".payerTd"),v=document.querySelectorAll(".donTd"),m=document.querySelectorAll(".valoriseesTd"),y=document.querySelector(".alert-message"),h=document.createElement("option");h.text="Tous",h.value="rien",c.add(h);for(var g=(new Date).getFullYear();g>=1965;){var x=document.createElement("option");x.text=g,x.value=g,c.add(x),g-=1}for(var S=document.getElementById("selectMonth"),b=document.querySelector(".table"),T=document.querySelector(".btn-submit"),A=[{value:"",text:"Tous"},{value:"01",text:"Janvier"},{value:"02",text:"Février"},{value:"03",text:"Mars"},{value:"04",text:"Avril"},{value:"05",text:"Mai"},{value:"06",text:"Juin"},{value:"07",text:"Juillet"},{value:"08",text:"Août"},{value:"09",text:"Septembre"},{value:"10",text:"Octobre"},{value:"11",text:"Novembre"},{value:"12",text:"Décembre"}],q=0;q<A.length;q++){var w=document.createElement("option");w.text=A[q].text,w.value=A[q].value,w.className="select-month",S.add(w)}function L(){var e=c.options[c.selectedIndex],t=S.options[S.selectedIndex],n=new URLSearchParams;n.append("year",e.value),n.append("month",t.value);var f=new URL(window.location.href);axios.post(f.pathname+"?"+n.toString()+"&ajax=1",{year:e.value,month:t.value}).then((function(e){var n=document.querySelector(".ajaxDivContent"),f=e.data.content;if(""==f)[u,l,i,s,d].forEach((function(e){e.textContent=""})),y.style.display="block",y.innerHTML='<p style="color:red; text-align: center;">aucune donnée trouvée pour cette recherche</p>',setTimeout((function(){y.style.display="none"}),3e3);else{var p=c.options[c.selectedIndex].value;n.innerHTML=f;var v=document.querySelectorAll(".duree"),m=Array.from(v).map((function(e){return e.dataset.duree})),h=(0,r.F)(m);l.innerHTML='Durée :<span style="\n            color:#097969;\n            font-weight: bold;\n            "> '.concat(h,"</span>");var g=document.querySelectorAll(".payerTd"),x=Array.from(g).map((function(e){return e.dataset.payer})),S=(0,a.A)(x);i.innerHTML='A payer :<span style="\n            color:#097969;\n            font-weight: bold;\n            "> '.concat(S,"€</span>");var b=document.querySelectorAll(".donTd"),T=Array.from(b).map((function(e){return e.dataset.don})),A=(0,o.l)(T);s.innerHTML='Don :<span style="\n            color:#097969;\n            font-weight: bold;\n            "> '.concat(A,"€</span>");var q=document.querySelectorAll(".valoriseesTd"),w=Array.from(q).map((function(e){return e.dataset.valorisees})),L=(0,o.l)(w);d.innerHTML='Valorisees :<span style="\n            color:#097969;\n            font-weight: bold;\n            ">'.concat(L,"€</span> "),""==t.value&&(u.innerHTML='Total pour l\'année <span style="\n            color:#152149;\n            font-weight: bold;\n            ">'.concat(p,"</span>:")),"rien"==e.value&&""==t.value&&(u.innerHTML="Total de toutes vos saisies :"),"rien"!=e.value&&""!=t.value&&(u.innerHTML='Total pour le <span style="\n            color:#152149;\n            font-weight: bold;\n            ">'.concat(t.value,"/").concat(p,"</span>:"))}})).catch((function(e){console.log(e)}))}T.addEventListener("click",L);var E=Array.from(f).map((function(e){return e.dataset.duree})),M=(0,r.F)(E);l.innerHTML='Durée : <span style="\n            color:#097969;\n            font-weight: bold;\n            ">'.concat(M,"</span>");var I=Array.from(p).map((function(e){return e.dataset.payer}));console.log(I);var H=(0,a.A)(I);i.innerHTML='A payer : <span style="\n            color:#097969;\n            font-weight: bold;\n            ">'.concat(H,"€</span>");var k=Array.from(v).map((function(e){return e.dataset.don})),D=(0,o.l)(k);s.innerHTML='Don :<span style="\n            color:#097969;\n            font-weight: bold;\n            "> '.concat(D,"€</span>");var O=Array.from(m).map((function(e){return e.dataset.valorisees})),N=(0,o.l)(O);d.innerHTML='Valorisation : <span style="\n            color:#097969;\n            font-weight: bold;\n            ">'.concat(N,"€</span>");var F,R=document.querySelector(".modal-adherer"),C=(document.querySelector(".content-container"),document.querySelectorAll(".last-td-poubelle"),document.querySelector(".btn-no")),J=document.querySelector(".btn-yes"),P=function(){delete R.dataset.active};b.addEventListener("click",(function(e){e.target.matches(".trash-png")&&(F=e.target.dataset.id,R.dataset.active=!0)})),J.addEventListener("click",(function(e){e.preventDefault();var t=document.URL,n="".concat(t,"/remove/").concat(F);axios.post(n).then((function(e){console.log(e),document.querySelector(".tr-".concat(F)).remove(),P(),Toastify({text:"Saisie bien supprimé",duration:5e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, #00b09b, #96c93d)"},onClick:function(){}}).showToast(),L()})).catch((function(e){console.log(e)}))})),C.addEventListener("click",(function(){P()}))},5299:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});n(9554),n(1539),n(4747),n(2772),n(1249),n(4916),n(3123),n(1058),n(5827),n(7327),n(2222);function r(e){if(e.length>1){e.forEach((function(t){if(null==t){var n=e.indexOf(t);-1!==n&&(e[n]="0")}}));var t,n=e.map((function(e){return e.split(".")[0]})),r=(n=n.map((function(e){return parseInt(e)}))).reduce((function(e,t){return e+t})),o=e.map((function(e){return e.split(".")[1]}));for(t=(o=(o=o.filter((function(e){return!isNaN(e)}))).map((function(e){return parseInt(e)}))).length>1?o.reduce((function(e,t){return e+t})):0;t>99;)r++,t-=100;var a="".concat(r,".").concat(t);return 0==t&&(a="".concat(r)),a}return 1==e.length&&null!=e[0]?e[0]:"0"}},130:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});n(9554),n(1539),n(4747),n(2772),n(1249),n(4916),n(3123),n(1058),n(5827),n(2222);function r(e){if(e.length>=1){e.forEach((function(t){if(0==t||null==t){var n=e.indexOf(t);-1!=n&&(e[n]="00h00")}}));for(var t=e.map((function(e){return e.split("h")[0]})),n=(t=t.map((function(e){return parseInt(e)}))).reduce((function(e,t){return e+t})),r=e.map((function(e){return e.split("h")[1].split("m")[0]})),o=(r=r.map((function(e){return parseInt(e)}))).reduce((function(e,t){return e+t}));o>59;)n++,o-=60;return o<10&&(o="0".concat(o)),"".concat(n,"h").concat(o)}if(1==e.length)return e[0]}},1401:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(9554),n(1539),n(4747),n(2772),n(1249),n(4916),n(3123),n(1058),n(5827),n(7327),n(2222);function r(e){if(e.length>1){e.forEach((function(t){if(""==t||null==t){var n=e.indexOf(t);-1!==n&&(e[n]="0")}}));var t=e.map((function(e){return e.split(".")[0]})),n=0;null!=(t=t.map((function(e){return parseInt(e)})))&&(n=t.reduce((function(e,t){return e+t})));var r=e.map((function(e){return e.split(".")[1]})),o=null;for(r.forEach((function(e){if(null==e){var t=r.indexOf(e);-1!==t&&(r[t]="0")}})),o=(r=(r=r.filter((function(e){return!isNaN(e)}))).map((function(e){return parseInt(e)}))).reduce((function(e,t){return e+t}));o>99;)n++,o-=10;return"".concat(n,".").concat(o)}return e[0]}},206:(e,t,n)=>{var r=n(1702);e.exports=r([].slice)},7072:(e,t,n)=>{var r=n(5112)("iterator"),o=!1;try{var a=0,c={next:function(){return{done:!!a++}},return:function(){o=!0}};c[r]=function(){return this},Array.from(c,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},1038:(e,t,n)=>{var r=n(2109),o=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:o})},3710:(e,t,n)=>{var r=n(1702),o=n(1320),a=Date.prototype,c="Invalid Date",u="toString",l=r(a.toString),i=r(a.getTime);String(new Date(NaN))!=c&&o(a,u,(function(){var e=i(this);return e==e?l(this):c}))},9714:(e,t,n)=>{"use strict";var r=n(1702),o=n(6530).PROPER,a=n(1320),c=n(9670),u=n(7976),l=n(1340),i=n(7293),s=n(7066),d="toString",f=RegExp.prototype,p=f.toString,v=r(s),m=i((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),y=o&&p.name!=d;(m||y)&&a(RegExp.prototype,d,(function(){var e=c(this),t=l(e.source),n=e.flags;return"/"+t+"/"+l(void 0===n&&u(f,e)&&!("flags"in f)?v(e):n)}),{unsafe:!0})},2564:(e,t,n)=>{var r=n(2109),o=n(7854),a=n(2104),c=n(614),u=n(8113),l=n(206),i=n(8053),s=/MSIE .\./.test(u),d=o.Function,f=function(e){return function(t,n){var r=i(arguments.length,1)>2,o=c(t)?t:d(t),u=r?l(arguments,2):void 0;return e(r?function(){a(o,this,u)}:o,n)}};r({global:!0,bind:!0,forced:s},{setTimeout:f(o.setTimeout),setInterval:f(o.setInterval)})}},e=>{e.O(0,[185,530,765,156],(()=>{return t=4040,e(e.s=t);var t}));e.O()}]);